package de.rotti.samples.pdfbox;

import org.apache.pdfbox.pdmodel.PDDocument;
import org.apache.pdfbox.pdmodel.PDPage;
import org.apache.pdfbox.pdmodel.PDPageContentStream;
import org.apache.pdfbox.pdmodel.common.PDRectangle;
import org.apache.pdfbox.pdmodel.graphics.image.PDImageXObject;

import javax.imageio.ImageIO;
import java.awt.image.BufferedImage;
import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.util.Base64;

public class Application {
    private static final String SAMPLE_IMAGE_BASE64 = """
        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
        """;

    public static void main(String[] args) {
        byte[] imageContent = Base64.getDecoder().decode(SAMPLE_IMAGE_BASE64.trim());

        System.out.printf("Read image from scan %d size%n", imageContent.length);

        try(PDDocument document = new PDDocument()) {
            BufferedImage bimg = ImageIO.read(new ByteArrayInputStream(imageContent));
            float width = bimg.getWidth();
            float height = bimg.getHeight();

            System.out.printf("Image to embed: width %f, height %f%n", width, height);

            PDPage page = new PDPage(new PDRectangle(width, height));
            document.addPage(page);

            PDImageXObject img = PDImageXObject.createFromByteArray(document, imageContent, "image");
            try(PDPageContentStream contentStream = new PDPageContentStream(document, page)) {
                contentStream.drawImage(img, 0, 0);
            }

            try(ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {
                document.save(outputStream);

                byte[] bytes = outputStream.toByteArray();

                System.out.printf("Finished creating pdf. Size %d%n", bytes.length);
            }
        }
        catch(Exception e) {
            e.printStackTrace();
        }
    }
}